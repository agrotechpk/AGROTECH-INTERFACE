<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Agrotech Cloud Interface</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #f3f4f6;
            color: #111827;
        }

        .page-wrapper {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 24px;
        }

        .card {
            width: 100%;
            max-width: 1200px;
            background: #ffffff;
            border-radius: 14px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            padding: 18px 18px 20px;
        }

        .card-header {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .card-header h1 {
            margin: 0;
            font-size: 20px;
            font-weight: 600;
        }

        .card-header span {
            font-size: 12px;
            color: #6b7280;
        }

        .layout {
            display: grid;
            grid-template-columns: 180px 260px 1fr;
            gap: 12px;
        }

        .column {
            background: #f9fafb;
            border-radius: 10px;
            padding: 10px;
            border: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            max-height: 70vh;
        }

        .column-title {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #6b7280;
            margin-bottom: 8px;
        }

        .pill-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
            overflow-y: auto;
        }

        .pill {
            border: none;
            border-radius: 999px;
            padding: 8px 12px;
            font-size: 13px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            background: #e5e7eb;
            color: #111827;
            transition: background 0.15s, transform 0.1s, box-shadow 0.1s;
            text-align: left;
        }

        .pill span.label {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .pill span.badge {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 999px;
            background: #d1d5db;
            color: #374151;
            margin-left: 8px;
            flex-shrink: 0;
        }

        .pill.active {
            background: #111827;
            color: #f9fafb;
            box-shadow: 0 6px 14px rgba(0,0,0,0.25);
        }

        .pill.active span.badge {
            background: #111827;
            color: #e5e7eb;
            border: 1px solid #4b5563;
        }

        .pill:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
        }

        .folder-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
            overflow-y: auto;
        }

        .folder {
            border-radius: 10px;
            padding: 7px 10px;
            font-size: 13px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            background: #e5e7eb;
            color: #111827;
            transition: background 0.15s, transform 0.1s, box-shadow 0.1s;
        }

        .folder:hover {
            background: #111827;
            color: #f9fafb;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.18);
        }

        .folder span.path {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .folder span.icon {
            font-size: 11px;
            margin-left: 8px;
            opacity: 0.7;
        }

        @media (max-width: 900px) {
            .layout {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
<div class="page-wrapper">
    <div class="card">
        <div class="card-header">
            <div>
                <h1>Agrotech Cloud Panel</h1>
                <span>PK &amp; UAE entities â€¢ Legal, Finance, HR, Ops, R&amp;D, Sourcing, etc.</span>
            </div>
        </div>

        <div class="layout">
            <!-- COMPANY COLUMN -->
            <div class="column">
                <div class="column-title">Entity</div>
                <div class="pill-list" id="companyList"></div>
            </div>

            <!-- SECTION COLUMN -->
            <div class="column">
                <div class="column-title">Section</div>
                <div class="pill-list" id="sectionList"></div>
            </div>

            <!-- FOLDER COLUMN -->
            <div class="column">
                <div class="column-title">Cloud Folders</div>
                <div class="folder-list" id="folderList"></div>
            </div>
        </div>
    </div>
</div>

<script>
    // ðŸ”¹ 1) YOUR JSON DATA GOES HERE
    // Paste the big object starting from { "Agrotech_PK": { ... }, "Agrotech_UAE": { ... } }
    const DATA = /* PASTE YOUR JSON OBJECT HERE */ {};

    // ðŸ”¹ 2) BASIC DOM REFERENCES
    const companyListEl = document.getElementById('companyList');
    const sectionListEl = document.getElementById('sectionList');
    const folderListEl  = document.getElementById('folderList');

    let currentCompany = null;
    let currentSection = null;

    // Helper: make label pretty (no underscores, no backslashes, no numbers)
    function prettyLabel(key) {
        // Remove folder numbers if any like "01_" (you said you donâ€™t want numbers in interface)
        const noLeadingNumbers = key.replace(/^[0-9]+[_-]*/, '');
        return noLeadingNumbers
            .replace(/\\/g, ' / ')
            .replace(/_/g, ' ')
            .replace(/\s+/g, ' ')
            .trim();
    }

    // ðŸ”¹ 3) RENDER COMPANIES
    function renderCompanies() {
        companyListEl.innerHTML = '';
        const companyKeys = Object.keys(DATA);

        companyKeys.forEach((cKey, idx) => {
            const pill = document.createElement('button');
            pill.className = 'pill' + (idx === 0 ? ' active' : '');
            pill.dataset.company = cKey;
            pill.innerHTML = '<span class="label">' + prettyLabel(cKey) + '</span>';

            pill.addEventListener('click', () => {
                currentCompany = cKey;
                // visual
                Array.from(companyListEl.children).forEach(btn => btn.classList.remove('active'));
                pill.classList.add('active');
                renderSections();
            });

            companyListEl.appendChild(pill);
        });

        currentCompany = companyKeys[0];
    }

    // ðŸ”¹ 4) RENDER SECTIONS FOR CURRENT COMPANY
    function renderSections() {
        sectionListEl.innerHTML = '';
        folderListEl.innerHTML = '';

        if (!currentCompany || !DATA[currentCompany]) {
            return;
        }

        const sections = Object.keys(DATA[currentCompany]);

        sections.forEach((sKey, idx) => {
            const sectionObj = DATA[currentCompany][sKey] || {};
            const folderCount = Object.keys(sectionObj).length;

            const pill = document.createElement('button');
            pill.className = 'pill' + (idx === 0 ? ' active' : '');
            pill.dataset.section = sKey;
            pill.innerHTML =
                '<span class="label">' + prettyLabel(sKey) + '</span>' +
                '<span class="badge">' + folderCount + '</span>';

            pill.addEventListener('click', () => {
                currentSection = sKey;
                Array.from(sectionListEl.children).forEach(btn => btn.classList.remove('active'));
                pill.classList.add('active');
                renderFolders();
            });

            sectionListEl.appendChild(pill);
        });

        currentSection = sections[0];
        renderFolders();
    }

    // ðŸ”¹ 5) RENDER FOLDERS FOR CURRENT COMPANY + SECTION
    function renderFolders() {
        folderListEl.innerHTML = '';

        if (
            !currentCompany ||
            !currentSection ||
            !DATA[currentCompany] ||
            !DATA[currentCompany][currentSection]
        ) {
            return;
        }

        const folderEntries = Object.entries(DATA[currentCompany][currentSection]);

        folderEntries.forEach(([folderKey, url]) => {
            const item = document.createElement('div');
            item.className = 'folder';

            item.innerHTML =
                '<span class="path">' + prettyLabel(folderKey) + '</span>' +
                '<span class="icon">â†—</span>';

            item.addEventListener('click', () => {
                if (typeof url === 'string' && url.startsWith('http')) {
                    window.open(url, '_blank');
                } else {
                    alert('No valid link configured for: ' + folderKey);
                }
            });

            folderListEl.appendChild(item);
        });
    }

    // ðŸ”¹ 6) INITIALISE
    renderCompanies();
    renderSections();
</script>
</body>
</html>
